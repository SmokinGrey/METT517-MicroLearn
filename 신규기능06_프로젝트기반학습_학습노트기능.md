# 신규 기능 "프로젝트 기반 학습: 학습 노트" 개발 로드맵

---

## 1. 개요

- **기능명:** 프로젝트 기반 학습: 학습 노트 기능 (Project-based Learning: Learning Note Feature)
- **목표:** 단일 문서 처리 방식에서 벗어나, 여러 개의 소스(문서, URL 등)를 하나의 '학습 노트'라는 단위로 묶어 관리하고, 종합적으로 분석 및 질의할 수 있는 워크스페이스 환경을 제공한다. 이를 통해 MicroLearn AI를 '콘텐츠 생성 도구'에서 'AI 학습 연구 보조 도구'로 격상시킨다.
- **핵심 변경사항:** 데이터베이스, 백엔드 API, 프론트엔드 UX 등 애플리케이션 전반에 걸친 근본적인 아키텍처 재설계

> **주의:** 본 기능은 단순 기능 추가가 아닌, 서비스의 코어 로직과 사용자 경험을 재정의하는 v2.0 수준의 대규모 업데이트입니다. 충분한 기획 및 개발 리소스 확보가 필수적입니다.

---

## 2. 개발 단계 및 상세 과업

### **Phase 1: 백엔드 - 코어 아키텍처 재설계**

> **기간:** 2-3주
> **목표:** 다중 소스를 관리할 수 있는 새로운 데이터베이스 모델과 기본 API 구조를 설계하고 구현한다.

| Task ID | 과업명 | 상세 내용 |
| :--- | :--- | :--- |
| **BE-1.1** | 데이터베이스 모델 재설계 | - `LearningNote` 테이블(사용자별 프로젝트)과 `Source` 테이블(노트별 소스)을 신규 생성한다.<br>- `User`-`LearningNote`-`Source` 간의 관계를 설정하고 기존 모델을 재구성 또는 마이그레이션한다. |
| **BE-1.2** | '학습 노트' CRUD API 개발 | - 학습 노트를 생성(Create), 조회(Read), 수정(Update), 삭제(Delete)하는 API 엔드포인트를 개발한다. (예: `/api/notes`) |
| **BE-1.3** | '소스' 관리 API 개발 | - 특정 학습 노트에 소스(파일, URL 등)를 추가하거나 삭제하는 API를 개발한다. (예: `POST /api/notes/{note_id}/sources`) |

### **Phase 2: 프론트엔드 - 신규 UX/UI 흐름 구축**

> **기간:** 2-3주
> **목표:** 프로젝트(학습 노트) 기반의 새로운 사용자 인터페이스와 경험을 설계하고 구현한다.

| Task ID | 과업명 | 상세 내용 |
| :--- | :--- | :--- |
| **FE-2.1** | 대시보드 재설계 | - 기존의 자료 목록 대신, 사용자의 '학습 노트' 프로젝트 목록을 보여주는 새로운 대시보드를 구현한다. |
| **FE-2.2** | '학습 노트 상세 페이지' 신설 | - 노트의 모든 정보를 보여주는 워크스페이스 페이지를 신규 개발한다.<br>- 포함될 컴포넌트: 소스 목록, 소스 추가 UI, 종합 분석 결과 표시 영역, 채팅창 등 |
| **FE-2.3** | 상태 관리 구조 변경 | - '현재 활성화된 노트' 등 새로운 데이터 흐름에 맞춰 전역 상태 관리 로직(Zustand)을 수정한다. |

### **Phase 3: 핵심 기능 - 다중 소스 종합 분석 구현**

> **기간:** 2주
> **목표:** 여러 소스의 내용을 종합하여 하나의 통찰력 있는 결과물을 생성하는 AI 로직을 개발한다.

| Task ID | 과업명 | 상세 내용 |
| :--- | :--- | :--- |
| **BE-3.1** | **(핵심)** 다중 소스 처리 전략 수립 | - 여러 문서의 방대한 텍스트가 AI의 입력 제한을 초과하는 문제를 해결할 전략을 수립한다.<br>- **(추천 전략)** Map-Reduce: 각 소스를 개별 요약(Map)하고, 이 요약본들을 다시 모아 최종 요약(Reduce)하는 방식. |
| **BE-3.2** | AI 생성 로직 전면 개편 | - `_generate_ai_materials` 함수를 재작성하여, 특정 `note_id`를 기반으로 모든 소스를 종합 분석하는 로직을 구현한다. |
| **FE-3.3** | 프론트엔드 연동 | - '학습 노트 상세 페이지'에 "노트 종합 분석" 버튼을 추가하고, 클릭 시 백엔드의 새 분석 API를 호출하도록 연동한다. |

### **Phase 4: '노트와 대화하기' 기능 통합**

> **기간:** 2주
> **목표:** '자료와 대화하기' 기능을 새로운 '학습 노트' 아키텍처에 맞게 확장 및 통합한다.

| Task ID | 과업명 | 상세 내용 |
| :--- | :--- | :--- |
| **BE-4.1** | RAG 파이프라인 확장 | - 특정 노트에 소스가 추가/삭제될 때마다, 해당 노트에 연결된 모든 소스의 텍스트를 벡터 DB에 업데이트하는 로직을 구현한다. |
| **BE-4.2** | 검색 로직 수정 | - 사용자 질문이 들어왔을 때, 현재 활성화된 '학습 노트'에 속한 벡터들 내에서만 유사도 검색을 수행하도록 수정한다. |
| **FE-4.3** | 채팅 UI 통합 | - '학습 노트 상세 페이지'에 채팅 컴포넌트를 통합하여, 노트 전체와 대화할 수 있도록 한다. |

### **Phase 5: 전체 통합 테스트 및 배포**

> **기간:** 1-2주
> **목표:** 재설계된 애플리케이션의 안정성, 성능, 사용성을 최종 검증한다.

| Task ID | 과업명 | 상세 내용 |
| :--- | :--- | :--- |
| **INT-5.1**| End-to-End 시나리오 테스트 | - 노트 생성 → 소스 추가 → 종합 분석 → 노트와 대화하기 등 핵심 시나리오 전반을 테스트한다. |
| **INT-5.2**| 성능 및 안정성 검증 | - 대용량 문서나 많은 수의 소스를 추가했을 때의 성능 저하 여부를 확인하고 최적화한다. |

---

## 3. 총 예상 기간

- **전체 완료까지:** 약 **9주 ~ 12주**

*본 로드맵은 기능의 복잡성과 상호 의존성이 높아, 각 단계가 순차적으로 긴밀하게 진행되어야 하는 대규모 프로젝트입니다.*
